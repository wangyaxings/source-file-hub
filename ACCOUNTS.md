# FileServer é»˜è®¤è´¦æˆ·è¯´æ˜

## ğŸ” é»˜è®¤æµ‹è¯•è´¦æˆ·

æœ¬ç³»ç»Ÿé¢„é…ç½®äº†ä»¥ä¸‹æµ‹è¯•è´¦æˆ·ï¼Œç”¨äºå¼€å‘å’Œæ¼”ç¤ºï¼š

### ç®¡ç†å‘˜è´¦æˆ·
- **ç§Ÿæˆ·ID**: `demo`
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123`
- **ç™»å½•æ ¼å¼**: `admin@demo`
- **æƒé™**: ç³»ç»Ÿç®¡ç†å‘˜
- **ç”¨é€”**: å®Œæ•´çš„ç³»ç»Ÿç®¡ç†åŠŸèƒ½

### æ™®é€šç”¨æˆ·è´¦æˆ·
- **ç§Ÿæˆ·ID**: `demo`
- **ç”¨æˆ·å**: `user1`
- **å¯†ç **: `password123`
- **ç™»å½•æ ¼å¼**: `user1@demo`
- **æƒé™**: æ™®é€šç”¨æˆ·
- **ç”¨é€”**: æ ‡å‡†æ–‡ä»¶ä¸Šä¼ å’Œç®¡ç†åŠŸèƒ½

### æµ‹è¯•è´¦æˆ·
- **ç§Ÿæˆ·ID**: `tenant1`
- **ç”¨æˆ·å**: `test`
- **å¯†ç **: `test123`
- **ç™»å½•æ ¼å¼**: `test@tenant1`
- **æƒé™**: æµ‹è¯•ç”¨æˆ·
- **ç”¨é€”**: å¤šç§Ÿæˆ·ç¯å¢ƒæµ‹è¯•

## ğŸš€ å¦‚ä½•ç™»å½•

### å‰ç«¯ç™»å½•ç•Œé¢
1. è®¿é—®: `http://localhost:3000`
2. åœ¨ç™»å½•ç•Œé¢è¾“å…¥:
   - **ç”¨æˆ·å**: ä¸Šè¿°ä»»ä¸€ç™»å½•æ ¼å¼ (å¦‚: `admin@demo`)
   - **å¯†ç **: å¯¹åº”çš„å¯†ç 

### API ç™»å½•
```bash
curl -X POST https://localhost:8443/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "tenant_id": "demo",
    "username": "admin",
    "password": "admin123"
  }'
```

## âš™ï¸ ç”¨æˆ·ç®¡ç†

### æŸ¥çœ‹æ‰€æœ‰é»˜è®¤ç”¨æˆ·
åœ¨ä»£ç ä¸­å¯ä»¥è°ƒç”¨:
```go
users := auth.GetDefaultUsers()
```

### æ·»åŠ æ–°ç”¨æˆ·
```go
err := auth.AddUser("tenant_id", "username", "password")
```

## ğŸ”’ å®‰å…¨è¯´æ˜

âš ï¸ **é‡è¦å®‰å…¨æé†’**:

1. **ç”Ÿäº§ç¯å¢ƒ**: è¿™äº›æ˜¯æµ‹è¯•è´¦æˆ·ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¿…é¡»:
   - æ›´æ”¹æ‰€æœ‰é»˜è®¤å¯†ç 
   - åˆ é™¤ä¸éœ€è¦çš„æµ‹è¯•è´¦æˆ·
   - å®æ–½å¼ºå¯†ç ç­–ç•¥
   - é…ç½®é€‚å½“çš„ç”¨æˆ·æƒé™

2. **å¯†ç ç­–ç•¥**: å½“å‰å¯†ç ä¸ºç®€å•æµ‹è¯•å¯†ç ï¼Œå»ºè®®:
   - ä½¿ç”¨å¼ºå¯†ç  (8+ å­—ç¬¦ï¼ŒåŒ…å«å¤§å°å†™ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦)
   - å®šæœŸæ›´æ¢å¯†ç 
   - ä¸è¦åœ¨å¤šä¸ªç³»ç»Ÿä¸­é‡å¤ä½¿ç”¨ç›¸åŒå¯†ç 

3. **Token ç®¡ç†**:
   - Token æœ‰æ•ˆæœŸä¸º 24 å°æ—¶
   - ç™»å‡ºæ—¶ä¼šè‡ªåŠ¨æ¸…é™¤ Token
   - Token å­˜å‚¨åœ¨å†…å­˜ä¸­ (ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ Redis)

## ğŸ“ å¼€å‘è¯´æ˜

### ä¿®æ”¹é»˜è®¤ç”¨æˆ·
ç¼–è¾‘ `internal/auth/user.go` æ–‡ä»¶ä¸­çš„ `userStore` å˜é‡:

```go
var userStore = map[string]*User{
    "admin:demo@admin": {
        TenantID: "demo",
        Username: "admin",
        Password: hashPassword("your_new_password"),
    },
    // ... å…¶ä»–ç”¨æˆ·
}
```

### æ•°æ®åº“é›†æˆ
å½“å‰ä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®:
- ä½¿ç”¨ PostgreSQL/MySQL ç­‰æ•°æ®åº“
- å®æ–½ç”¨æˆ·è§’è‰²å’Œæƒé™ç³»ç»Ÿ
- æ·»åŠ ç”¨æˆ·æ³¨å†Œå’Œå¯†ç é‡ç½®åŠŸèƒ½

## ğŸ¯ å¿«é€Ÿæµ‹è¯•

å¯åŠ¨æœåŠ¡åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è´¦æˆ·å¿«é€Ÿæµ‹è¯•ä¸åŒåŠŸèƒ½:

1. **ç®¡ç†åŠŸèƒ½æµ‹è¯•**: ä½¿ç”¨ `admin@demo` / `admin123`
2. **æ™®é€šç”¨æˆ·æµ‹è¯•**: ä½¿ç”¨ `user1@demo` / `password123`
3. **å¤šç§Ÿæˆ·æµ‹è¯•**: ä½¿ç”¨ `test@tenant1` / `test123`

---

ğŸ’¡ **æç¤º**: åœ¨ `startup.bat` æ‰§è¡Œæ—¶ä¼šæ˜¾ç¤ºè¿™äº›è´¦æˆ·ä¿¡æ¯ï¼Œæ–¹ä¾¿å¿«é€ŸæŸ¥çœ‹ã€‚